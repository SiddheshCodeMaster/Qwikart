<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Explore Products - QwiKart</title>
    <link rel="stylesheet" href="/dynamic/css/style.css">
</head>
<body>
    <h1>Explore Our Products</h1>

    <input type="text" id="searchInput" placeholder="Search for products..." class="search-bar" />
    <div class="products-container" id="productsContainer"></div>

    <!-- <div class="products-container" id="productsContainer"></div> -->

    <script>
        async function fetchProducts() {
            try {
                const response = await fetch('/get_all_products');
                const data = await response.json();
                const container = document.getElementById('productsContainer');

                for (const [name, details] of Object.entries(data.product_data)) {
                    const card = document.createElement('div');
                    card.className = 'product-card';

                    card.innerHTML = `
                        <h3>${name}</h3>
                        <p><strong>Price:</strong> Rs.${details.Price}</p>
                        <p><strong>Description:</strong> ${details.Description}</p>
                        <p><strong>Category:</strong> ${details.Category}</p>
                        <p><strong>Quantity: ${
                                details.Quantity > 0
                                    ? `<strong>In Stock</strong>`
                                    : '<strong style="color: red;">Out of Stock</strong>'
                                }
                        </strong>
                        </p>
                    `;

                    container.appendChild(card);
                }
            } catch (error) {
                console.error("Error fetching products:", error);
            }
        }

        fetchProducts();
    </script>
</body>
</html>
